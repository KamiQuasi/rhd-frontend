System.register(["../pfelement/pfelement.js"],function(t,e){"use strict";var r,n,i,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});e&&e.id;return{setters:[function(t){n=t}],execute:function(){i=function(e){function n(){var t=this;return(t=e.call(this,n)||this).type=t.getAttribute("type")||"local",t}return o(n,e),Object.defineProperty(n.prototype,"html",{get:function(){return"<style>:host {\n  display: inline; }</style>\n<span></span>"},enumerable:!0,configurable:!0}),Object.defineProperty(n,"tag",{get:function(){return"pfe-datetime"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"styleUrl",{get:function(){return"pfe-datetime.scss"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"templateUrl",{get:function(){return"pfe-datetime.html"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"type",{get:function(){return this._type},set:function(t){this._type!==t&&(this._type=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"timestamp",{get:function(){return this._timestamp},set:function(t){this._timestamp!==t&&(this._timestamp=t,this.setDate(new Date(1e3*t)))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"datetime",{get:function(){return this._datetime},set:function(t){Date.parse(t)&&(Date.parse(t)&&this._datetime===Date.parse(t)||this.setDate(Date.parse(t)))},enumerable:!0,configurable:!0}),Object.defineProperty(n,"observedAttributes",{get:function(){return["datetime","type","timestamp"]},enumerable:!0,configurable:!0}),n.prototype.attributeChangedCallback=function(t,e,n){this[t]=n},n.prototype.setDate=function(t){this._datetime=t,this.shadowRoot.querySelector("span").innerText=window.Intl?this._getTypeString():t.toLocaleString()},n.prototype._getOptions=function(){var t={weekday:{short:"short",long:"long"},day:{numeric:"numeric","2-digit":"2-digit"},month:{short:"short",long:"long"},year:{numeric:"numeric","2-digit":"2-digit"},hour:{numeric:"numeric","2-digit":"2-digit"},minute:{numeric:"numeric","2-digit":"2-digit"},second:{numeric:"numeric","2-digit":"2-digit"},timeZoneName:{short:"short",long:"long"}},e={};for(var n in t){var r=t[n][this.getAttribute(n)];r&&(e[n]=r)}return e},n.prototype._getTypeString=function(){var t=this._getOptions(),e=this.getAttribute("locale")||navigator.language,n="";switch(this.type){case"local":n=new Intl.DateTimeFormat(e,t).format(this._datetime);break;case"relative":n=this._getTimeRelative(this._datetime-Date.now());break;default:n=this._datetime}return n},n.prototype._getTimeRelative=function(t){var e=0<t?"until":"ago",n="just now",r=Math.round(Math.abs(t)/1e3),i=Math.round(r/60),o=Math.round(i/60),a=Math.round(o/24),u=Math.round(a/30),s=Math.round(u/12);return 18<=u?n=s+" years":12<=u?n="a year":45<=a?n=u+" months":30<=a?n="a month":36<=o?n=a+" days":24<=o?n="a day":90<=i?n=o+" hours":45<=i?n="an hour":90<=r?n=i+" minutes":45<=r?n="a minute":10<=r&&(n=r+" seconds"),"just now"!==n?n+" "+e:n},n}(n.default),n.default.create(i),t("default",i)}}});