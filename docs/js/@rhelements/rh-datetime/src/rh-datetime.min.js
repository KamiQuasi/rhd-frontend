System.register(["../rhelement/rhelement.js"],function(t,e){"use strict";var n,r,i,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});e&&e.id;return{setters:[function(t){r=t}],execute:function(){i=function(e){function r(){var t=e.call(this,r)||this;return t.type=t.getAttribute("type")||"local",t}return o(r,e),Object.defineProperty(r,"tag",{get:function(){return"rh-datetime"},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"styleUrl",{get:function(){return"rh-datetime.scss"},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"templateUrl",{get:function(){return"rh-datetime.html"},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"type",{get:function(){return this._type},set:function(t){this._type!==t&&(this._type=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"timestamp",{get:function(){return this._timestamp},set:function(t){this._timestamp!==t&&(this._timestamp=t,this.setDate(new Date(1e3*t)))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"datetime",{get:function(){return this._datetime},set:function(t){Date.parse(t)&&(Date.parse(t)&&this._datetime===Date.parse(t)||this.setDate(Date.parse(t)))},enumerable:!0,configurable:!0}),Object.defineProperty(r,"observedAttributes",{get:function(){return["datetime","type","timestamp"]},enumerable:!0,configurable:!0}),r.prototype.attributeChangedCallback=function(t,e,r){this[t]=r},r.prototype.setDate=function(t){this._datetime=t,this.shadowRoot.querySelector("span").innerText=window.Intl?this._getTypeString():t.toLocaleString()},r.prototype._getOptions=function(){var t={weekday:{short:"short",long:"long"},day:{numeric:"numeric","2-digit":"2-digit"},month:{short:"short",long:"long"},year:{numeric:"numeric","2-digit":"2-digit"},hour:{numeric:"numeric","2-digit":"2-digit"},minute:{numeric:"numeric","2-digit":"2-digit"},second:{numeric:"numeric","2-digit":"2-digit"},timeZoneName:{short:"short",long:"long"}},e={};for(var r in t){var n=t[r][this.getAttribute(r)];n&&(e[r]=n)}return e},r.prototype._getTypeString=function(){var t=this._getOptions(),e=this.getAttribute("locale")||navigator.language,r="";switch(this.type){case"local":r=new Intl.DateTimeFormat(e,t).format(this._datetime);break;case"relative":r=this._getTimeRelative(this._datetime-Date.now());break;default:r=this._datetime}return r},r.prototype._getTimeRelative=function(t){var e=0<t?"until":"ago",r="just now",n=Math.round(Math.abs(t)/1e3),i=Math.round(n/60),o=Math.round(i/60),a=Math.round(o/24),u=Math.round(a/30),s=Math.round(u/12);return 18<=u?r=s+" years":12<=u?r="a year":45<=a?r=u+" months":30<=a?r="a month":36<=o?r=a+" days":24<=o?r="a day":90<=i?r=o+" hours":45<=i?r="an hour":90<=n?r=i+" minutes":45<=n?r="a minute":10<=n&&(r=n+" seconds"),"just now"!==r?r+" "+e:r},r}(r.default),r.default.create(i)}}});