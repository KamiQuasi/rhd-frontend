System.register([],function(e,t){"use strict";var i,n,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};t&&t.id;return{setters:[],execute:function(){n=function(t){function e(){var e=t.call(this)||this;return e.template=function(e,t,n,i){return'<div class="row">\n                    <div class="large-24 medium-24 small-24 columns">\n                        <div class="alert-box alert-info">\n                            <div class="icon"></div>\n                            <div class="alert-content">\n                                <strong>Your download should start automatically.</strong>\n                                <p>If you have any problems with the download, please use the <a id="download-link" href="'+n+'">direct link.</a></p>\n                            </div>\n                        </div>\n                \n                        <div class="large-24 medium-16 small-24 columns thankyou">\n                                <h2>Thank you for downloading the:</h2>\n                                <h2>'+t+"</h2>\n                            "+(i?"":'<iframe src="'+n+'"></iframe>')+'\n                        </div>\n                        <div class="large-24 medium-16 small-24 columns">\n                            <div class="thankyou-button">\n                                <a href="/" class="button heavy-cta">Continue\n                                    to Homepage</a>\n                            </div>\n                        </div>\n                \n                    </div>\n                </div>'},e}return o(e,t),Object.defineProperty(e.prototype,"url",{get:function(){return this._url},set:function(e){this._url!==e&&(this._url=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mediaName",{get:function(){return this._mediaName},set:function(e){this._mediaName!==e&&(this._mediaName=e,this.setAttribute("media-name",this._mediaName))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"directLink",{get:function(){return this._directLink},set:function(e){this._directLink!==e&&(this._directLink=e,this.setAttribute("direct-download",this._directLink))},enumerable:!0,configurable:!0}),e.prototype.connectedCallback=function(){this._recentDownload=this.checkRecentDownload(),this.mediaName=this.mediaName?this.mediaName:this.stripLabelFromMedia(this.getParameterByName("p")),this.directLink=this.directLink?this.directLink:this.getParameterByName("tcDownloadURL"),this.innerHTML=this.template(r||(r=a(["","","",""],["","","",""])),this.mediaName,this.directLink,this._recentDownload)},Object.defineProperty(e,"observedAttributes",{get:function(){return["media-name","direct-link"]},enumerable:!0,configurable:!0}),e.prototype.attributeChangedCallback=function(e,t,n){this[e]=n},e.prototype.stripLabelFromMedia=function(e){return e&&(e=e.replace(/Media:[\s]/g,"")),e},e.prototype.getParameterByName=function(e){this.url=this.url?this.url:window.location.href,e=e.replace(/[\[\]]/g,"\\$&");var t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(this.url);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null},e.prototype.checkRecentDownload=function(){var e="media-download-url";if(0<window.location.href.indexOf("media-download-confirmation")){var t,n;if(window.localStorage.getItem(e))return n=(t=JSON.parse(window.localStorage.getItem(e))).hasOwnProperty("timestamp")?t.timestamp:0,!(3e4<(new Date).getTime()-n)||(window.localStorage.removeItem(e),!1);var i={value:window.location.href,timestamp:(new Date).getTime()};return localStorage.setItem(e,JSON.stringify(i)),!1}},e}(HTMLElement),e("default",n),window.addEventListener("WebComponentsReady",function(){customElements.define("rhdp-thankyou",n)})}}});