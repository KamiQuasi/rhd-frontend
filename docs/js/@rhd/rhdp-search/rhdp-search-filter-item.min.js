System.register([],function(e,t){"use strict";var n,i,r,s,a,c,u,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),h=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};t&&t.id;return{setters:[],execute:function(){i=function(t){function e(){var e=t.call(this)||this;return e._active=!1,e._inline=!1,e._bubble=!0,e._bounce=!1,e.template=function(e,t,i,n){return'<div class="list"><span>'+t+'</span><input type="checkbox" '+(n?"checked":"")+' id="filter-item-'+i+'" value="'+i+'"><label for="filter-item-'+i+'">'+t+"</label></div>"},e.inlineTemplate=function(e,t,i){return i?'<div class="inline">'+t+' <i class="fa fa-times clearItem" aria-hidden="true"></i></div>':""},e._checkParams=e._checkParams.bind(e),e._clearFilters=e._clearFilters.bind(e),e._checkChange=e._checkChange.bind(e),e._updateFacet=e._updateFacet.bind(e),e}return o(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){this._name!==e&&(this._name=e,this.setAttribute("name",this._name))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this._key},set:function(e){this._key!==e&&(this._key=e,this.className="filter-item-"+this._key,this.setAttribute("key",this._key))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"group",{get:function(){return this._group},set:function(e){this._group!==e&&(this._group=e,this.setAttribute("group",this._group))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return this._active},set:function(e){if("string"==typeof e&&(e=!0),null===e&&(e=!1),this._active!==e){this._active=e;var t=this.querySelector("input");this._active?this.setAttribute("active",""):this.removeAttribute("active"),t&&(t.checked=this._active),this.inline&&(this.innerHTML=this._active?this.inlineTemplate(r||(r=h(["","",""],["","",""])),this.name,this._active):""),this.dispatchEvent(new CustomEvent("filter-item-change",{detail:{facet:this},bubbles:this.bubble})),this.bubble=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value!==e&&(this._value=e,this.setAttribute("value",this.value))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inline",{get:function(){return this._inline},set:function(e){this._inline!==e&&(this._inline=e,this.innerHTML=this._inline?this.inlineTemplate(a||(a=h(["","",""],["","",""])),this.name,this.active):this.template(s||(s=h(["","","",""],["","","",""])),this.name,this.key,this.active))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bubble",{get:function(){return this._bubble},set:function(e){this._bubble!==e&&(this._bubble=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bounce",{get:function(){return this._bounce},set:function(e){this._bounce!==e&&(this._bounce=e)},enumerable:!0,configurable:!0}),e.prototype.connectedCallback=function(){this.innerHTML=this.inline?this.inlineTemplate(u||(u=h(["","",""],["","",""])),this.name,this.active):this.template(c||(c=h(["","","",""],["","","",""])),this.name,this.key,this.active),this.inline?this.addEventListener("click",this._updateFacet):this.addEventListener("change",this._updateFacet),top.addEventListener("filter-item-change",this._checkChange),top.addEventListener("params-ready",this._checkParams),top.addEventListener("clear-filters",this._clearFilters)},Object.defineProperty(e,"observedAttributes",{get:function(){return["name","active","value","inline","key","group"]},enumerable:!0,configurable:!0}),e.prototype.attributeChangedCallback=function(e,t,i){this[e]=i},e.prototype._updateFacet=function(e){this.bounce=!0,this.inline?0<=e.target.className.indexOf("clearItem")&&(this.active=!this.active):this.active=!this.active},e.prototype._checkParams=function(e){var i=this,n=!1;e.detail&&e.detail.filters&&Object.keys(e.detail.filters).forEach(function(t){e.detail.filters[t].forEach(function(e){t===i.group&&e===i.key&&(n=!0,i.bubble=!1,i.active=!0,i.dispatchEvent(new CustomEvent("filter-item-init",{detail:{facet:i},bubbles:i.bubble})))})}),n||(this.bubble=!1,this.active=!1)},e.prototype._checkChange=function(e){e.detail&&e.detail.facet&&(this.bounce||this.group===e.detail.facet.group&&this.key===e.detail.facet.key&&(this.bubble=!1,this.active=e.detail.facet.active),this.bubble=!0,this.bounce=!1)},e.prototype._clearFilters=function(e){this.bubble=!1,this.bounce=!1,this.active=!1},e}(HTMLElement),e("default",i),customElements.define("rhdp-search-filter-item",i)}}});