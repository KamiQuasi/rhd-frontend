System.register(["../../@patternfly/pfelement/pfelement.js","./dp-search-filter-group.js","./dp-search-filter-item.js"],function(e,t){"use strict";var o,n,a,c,i,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t&&t.id;return{setters:[function(e){n=e},function(e){a=e},function(e){c=e}],execute:function(){i=function(t){function n(){var e=t.call(this,n,{delayRender:!0})||this;return e._type="",e._title="Filter By",e._toggle=!1,e._toggleModal=e._toggleModal.bind(e),e._clearFilters=e._clearFilters.bind(e),e}return r(n,t),Object.defineProperty(n.prototype,"html",{get:function(){return'\n        <style>\n            :host {\n                display: block;\n            }\n            .title {\n                background: #e6e7e8; \n                color: #000;\n                text-transform: uppercase;\n                padding: .5em 1em;\n                font-weight: 600;\n            }\n            .cancel { display: none; }\n            .showBtn { \n                display: none;\n                background: #ccc;\n                text-decoration: none;\n                border: 0;\n                height: 40px;\n                font-weight: 600;\n                font-size: 16px;\n                padding: 9px 40px;\n                transition: background .2s ease-in 0s;\n                line-height: 1.2em;\n                cursor: pointer;\n                position: relative;\n                text-align: center;\n                color: #333; \n                width: 100%;\n                }\n            dp-search-sort-page { display: none; }\n            .groups {\n                background-color: #f9f9f9;\n                padding-bottom: 30px;\n                padding-top: 20px;\n            }\n            .active-type {\n                display: flex;\n                flex-direction: row;\n                margin-bottom: 1em;\n                .inline {\n                    font-size: 16px;\n                    font-weight: 600;\n                }\n\n                .clearFilters {\n                    font-size: 16px;\n                }\n\n            }\n            .active-type strong {\n                flex: 0 1 auto; \n                order: 1; \n                font-weight: 600;\n                font-size: 1.2em;\n                margin: 0.3em .7em 0 0;\n                white-space: nowrap;\n            }\n            .active-type div { flex: 1 1 auto; order: 2; list-style: none; }\n            .active-type a {\n                flex: 0 1 auto;\n                order: 3;\n                text-decoration: none;\n                color: #0066CC;\n                margin-top: .3em;\n                font-weight: 100;\n                font-size: 14px;\n                white-space: nowrap;\n                &:hover, &:active, &:focus { color: #004080; }\n            }\n\n            #footer { display: none; }\n\n            @media only screen and (max-width: 768px) {\n                :host {\n                    display: flex;\n                    flex-direction: row;\n                    flex: none; \n                    align-self: flex-start; \n                    border: none;\n                    margin: 0 0 1.3em 0; \n                }\n\n                .split { flex: 1 0 auto; }\n                .split.right { text-align: right; }\n\n                dp-search-sort-page { display: inline-block; margin: 0;}\n\n                .control {\n                    display: none;\n                    flex-direction: column;\n                    width: 100%;\n                    height: 100%;\n                    padding-top: 51px;\n                    background: rgba(0,0,0,.5);\n                    border: none;\n                    z-index: 99;\n                    right: 100%;\n                    position: absolute;\n                    top: 100px;\n                }\n                .title { flex: 0 0 40px; order: 1; vertical-align: middle; }\n                .showBtn {\n                    display: block;\n                    width: 150px;\n                    height: auto;\n                    border: 1px solid #06c;\n                    line-height: 1.44;\n                    background-color: transparent;\n                    padding: 8px 0;\n                    color: #06c;\n                }\n\n                .showBtn:hover, .showBtn:focus {\n                        background-color: #06c;\n                        color: #fff;\n                }\n            }\n\n        </style>\n<div class="split"><a class="showBtn">Show Filters</a></div>\n<div class="split right"><dp-search-sort-page></dp-search-sort-page></div>\n<div class="control" id="control">\n    <div class="title">'+this.title+'</div>\n    <div class="groups">\n    <slot></slot>\n    </div>\n</div>'},enumerable:!0,configurable:!0}),Object.defineProperty(n,"tag",{get:function(){return"dp-search-filters"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"type",{get:function(){return this._type},set:function(e){this._type!==e&&(this._type=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"title",{get:function(){return this._title},set:function(e){this._title!==e&&(this._title=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filters",{get:function(){return this._filters},set:function(e){this._filters!==e&&(this._filters=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"toggle",{get:function(){return this._toggle},set:function(e){this._toggle!==e&&(this._toggle=e,this._toggle?(this.shadowRoot.querySelector(".cover").className="cover modal",window.scrollTo(0,0),document.body.style.overflow="hidden",this.style.height=window.innerHeight+"px"):(this.shadowRoot.querySelector(".cover").className="cover",document.body.style.overflow="auto"))},enumerable:!0,configurable:!0}),n.prototype.connectedCallback=function(){var n=this;t.prototype.connectedCallback.call(this),t.prototype.render.call(this),this.addGroups(),this.shadowRoot.addEventListener("click",function(e){var t={bubbles:!0,composed:!0};switch(e.target.className){case"showBtn":case"cancel":case"applyFilters":e.preventDefault(),n.dispatchEvent(new CustomEvent("toggle-modal",t));break;case"clearFilters":e.preventDefault(),n.dispatchEvent(new CustomEvent("clear-filters",t));break;case"more":e.preventDefault()}}),top.addEventListener("toggle-modal",this._toggleModal)},Object.defineProperty(n,"observedAttributes",{get:function(){return["type","title","toggle"]},enumerable:!0,configurable:!0}),n.prototype.attributeChangedCallback=function(e,t,n){this[e]=n},n.prototype.addGroups=function(){for(var e=this.filters&&this.filters.facets?this.filters.facets:[],t=e.length,n=0;n<t;n++){for(var o=new a.default,i=e[n],r=i.items.length,s=0;s<r;s++){var l=new c.default;l.name=i.items[s].name,l.value=i.items[s].value,l.active=i.items[s].active,l.key=i.items[s].key,l.group=i.key,o.items.push(l)}o.key=i.key,o.name=i.name,this.shadowRoot.querySelector(".groups").appendChild(o)}},n.prototype._toggleModal=function(e){"modal"===this.type&&(this.toggle=!this.toggle)},n.prototype.applyFilters=function(){this.dispatchEvent(new CustomEvent("apply-filters",{bubbles:!0,composed:!0}))},n.prototype._clearFilters=function(e){this.style.display="none"},n}(n.default),e("default",i),n.default.create(i)}}});