System.register(["../../@patternfly/pfelement/pfelement.js","./dp-search-filter-active-item.js"],function(e,t){"use strict";var i,n,o,r,s=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t&&t.id;return{setters:[function(e){n=e},function(e){o=e}],execute:function(){r=function(t){function n(){var e=t.call(this,n,{delayRender:!0})||this;return e._title="Active Filters:",e._toggle=!1,e._clearFilters=e._clearFilters.bind(e),e._addFilters=e._addFilters.bind(e),e._checkActive=e._checkActive.bind(e),e}return s(n,t),Object.defineProperty(n.prototype,"html",{get:function(){return"\n        <style>\n            :host {\n                display: flex;\n                flex-direction: row;\n                margin-bottom: 1em;\n            }\n\n            strong {\n                flex: 0 1 auto;\n                font-size: 1.2em;\n                font-weight: 600;\n                margin: .3em .7em 0 0;\n                order: 1;\n                white-space: nowrap;\n            }\n\n            .clearFilters {\n                color: #06c;\n                flex: 0 1 auto;\n                font-size: 14px;\n                font-weight: 100;\n                margin-top: .3em;\n                order: 3;\n                text-decoration: none;\n                white-space: nowrap;\n                cursor: pointer;\n            }\n\n            @media only screen and (max-width: 768px) {\n                strong {\n                    display: none;\n                }\n            }\n        </style>\n        <strong>"+this.title+'</strong>\n        <slot></slot>\n        <a href="#" class="clearFilters">Clear Filters</a>'},enumerable:!0,configurable:!0}),Object.defineProperty(n,"tag",{get:function(){return"dp-search-active-filters"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"title",{get:function(){return this._title},set:function(e){this._title!==e&&(this._title=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filters",{get:function(){return this._filters},set:function(e){this._filters!==e&&(this._filters=e)},enumerable:!0,configurable:!0}),n.prototype.connectedCallback=function(){var n=this;t.prototype.connectedCallback.call(this),t.prototype.render.call(this),top.addEventListener("filter-item-change",this._checkActive),top.addEventListener("filter-item-init",this._checkActive),top.addEventListener("search-complete",this._checkActive),top.addEventListener("params-ready",this._checkActive),top.addEventListener("clear-filters",this._clearFilters),this._addFilters(),this.shadowRoot.addEventListener("click",function(e){var t={bubbles:!0,composed:!0};switch(e.target.className){case"showBtn":case"cancel":case"applyFilters":e.preventDefault(),n.dispatchEvent(new CustomEvent("toggle-modal",t));break;case"clearFilters":e.preventDefault(),n.dispatchEvent(new CustomEvent("clear-filters",t));break;case"more":e.preventDefault()}})},Object.defineProperty(n,"observedAttributes",{get:function(){return["title"]},enumerable:!0,configurable:!0}),n.prototype.attributeChangedCallback=function(e,t,n){this[e]=n},n.prototype._checkActive=function(e){e.detail&&(0<top.document.querySelectorAll("dp-search-filter-item[active]").length?this.style.display="block":this.style.display="none")},n.prototype._initActive=function(e,n,i){return e.detail&&e.detail.filters&&Object.keys(e.detail.filters).forEach(function(t){e.detail.filters[t].forEach(function(e){if(t===n&&e===i.key)return!0})}),!1},n.prototype._addFilters=function(){for(var e=this.filters&&this.filters.facets?this.filters.facets:[],t=0;t<e.length;t++)for(var n=e[t].items,i=0;i<n.length;i++){var r=new o.default;r.name=n[i].name,r.value=n[i].value,r.inline=!0,r.bubble=!1,r.key=n[i].key,r.group=e[t].key,this.appendChild(r)}},n.prototype.applyFilters=function(){this.dispatchEvent(new CustomEvent("apply-filters",{bubbles:!0,composed:!0}))},n.prototype._clearFilters=function(e){this.style.display="none"},n}(n.default),e("default",r),n.default.create(r)}}});