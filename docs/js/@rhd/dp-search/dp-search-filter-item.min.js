System.register(["../../@patternfly/pfelement/pfelement.js"],function(e,t){"use strict";var i,n,a,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t&&t.id;return{setters:[function(e){n=e}],execute:function(){a=function(t){function n(){var e=t.call(this,n,{delayRender:!0})||this;return e._active=!1,e._inline=!1,e._bounce=!1,e._checkParams=e._checkParams.bind(e),e._clearFilters=e._clearFilters.bind(e),e._checkChange=e._checkChange.bind(e),e._updateFacet=e._updateFacet.bind(e),e._updateName=e._updateName.bind(e),e}return r(n,t),Object.defineProperty(n.prototype,"html",{get:function(){return"\n        <style>\n        .list {\n            clear: left;\n            cursor: pointer;\n            display: flex;\n            flex-direction: row;\n            font-size: 14px;\n            height: auto;\n            line-height: 1.25em;\n            padding: .5em .5em 0 1.1em;\n        }\n        span { display: none; }\n        input[type=checkbox] {\n            flex: 0 0 auto;\n            margin: .25em 5px 0 0;\n            order: 0;\n        }\n        label {\n            margin-left: 0;\n            color: #4d4d4d;\n            cursor: pointer;\n            display: block;\n            font-size: .875rem;\n            font-weight: 400;\n            line-height: 1.5;\n            margin-bottom: 0;\n        }\n        input[type=checkbox]+label,\n        input[type=radio]+label {\n            display: inline-block;\n            margin-bottom: 0;\n            margin-left: .5rem;\n            margin-right: 1rem;\n            vertical-align: baseline;\n        }\n\n        @media only screen and (max-width: 768px) {\n            .list {\n                line-height: 25px;\n                padding-left: 0;\n                font-size: 16px;\n            }\n            \n            span { display: inline; font-size: 16px; }\n            \n            input[type=checkbox]{\n                height: 0;\n                width: 0;\n                visibility: hidden;\n                order: 2;\n            }\n\n            label {\n                cursor: pointer;\n                text-indent: -1200px;\n                width: 50px;\n                height: 25px;\n                background: grey;\n                display: block;\n                border-radius: 25px;\n                position: absolute;\n                right: 0;\n            }\n    \n            label:after {\n                content: '';\n                position: absolute;\n                top: 1px;\n                left: 1px;\n                width: 23px;\n                height: 23px;\n                background: #fff;\n                border-radius: 20px;\n                transition: 0.3s;\n            }\n    \n            input:checked + label {\n                background: #08c0fc;;\n            }\n    \n            input:checked + label:after  {\n                left: calc(100% - 1px);\n                transform: translateX(-100%);\n            }\n    \n            label:active:after {\n                width: 33px;\n            }\n        }\n        </style>\n        <div class=\"list\">\n            <span>"+this.name+'</span>\n            <input type="checkbox" '+(this.active?"checked":"")+' id="filter-item-'+this.key+'" value="'+this.key+'">\n            <label for="filter-item-'+this.key+'"><slot></slot></label>\n        </div>'},enumerable:!0,configurable:!0}),Object.defineProperty(n,"tag",{get:function(){return"dp-search-filter-item"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this._name},set:function(e){this._name!==e&&(this._name=e,this.setAttribute("name",this._name),this.shadowRoot.querySelector("span")&&(this.shadowRoot.querySelector("span").innerText=this._name),this.innerHTML=this._name)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"key",{get:function(){return this._key},set:function(e){this._key!==e&&(this._key=e,this.className="filter-item-"+this._key,this.setAttribute("key",this._key))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"facet",{get:function(){return this._facet?this._facet:this.group},set:function(e){this._facet!==e&&(this._facet=e,this.setAttribute("facet",this._facet))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"group",{get:function(){return this._group},set:function(e){this._group!==e&&(this._group=e,this.setAttribute("group",this._group))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bounce",{get:function(){return this._bounce},set:function(e){this._bounce!==e&&(this._bounce=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"active",{get:function(){return this._active},set:function(e){if("string"==typeof e&&(e=!0),null===e&&(e=!1),this._active!==e){this._active=e;var t=this.shadowRoot.querySelector("input");if(this._active?this.setAttribute("active",""):this.removeAttribute("active"),t&&(t.checked=this._active),!this.bounce){var n={detail:{facet:this},bubbles:!0,composed:!0};this.bounce=!0,this.dispatchEvent(new CustomEvent("filter-item-change",n))}}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){return this._value.split(",")},set:function(e){this._value!==e&&(this._value=e,this.setAttribute("value",this.value))},enumerable:!0,configurable:!0}),n.prototype.connectedCallback=function(){t.prototype.connectedCallback.call(this),t.prototype.render.call(this),this.shadowRoot.addEventListener("change",this._updateFacet),top.addEventListener("filter-item-change",this._checkChange),top.addEventListener("params-ready",this._checkParams),top.addEventListener("clear-filters",this._clearFilters),top.addEventListener("search-complete",this._updateName)},Object.defineProperty(n,"observedAttributes",{get:function(){return["name","active","value","inline","key","group","facet"]},enumerable:!0,configurable:!0}),n.prototype.attributeChangedCallback=function(e,t,n){this[e]=n},n.prototype._updateName=function(e){if(e.detail&&e.detail.facets&&e.detail.facets.facet_fields){var t=e.detail.facets.facet_fields;t[this.group]&&0<=t[this.group].indexOf(this.value[0])?0<this.name.indexOf("(")?this.name=this.name.replace(/\([0-9]+\)/,"("+t[this.group][t[this.group].indexOf(this.value[0])+1]+")"):this.name=this.name+" ("+t[this.group][t[this.group].indexOf(this.value[0])+1]+")":t[this.facet]&&0<=t[this.facet].indexOf(this.value[0])?0<this.name.indexOf("(")?this.name=this.name.replace(/\([0-9]+\)/,"("+t[this.facet][t[this.facet].indexOf(this.value[0])+1]+")"):this.name=this.name+" ("+t[this.facet][t[this.facet].indexOf(this.value[0])+1]+")":this.name=this.name.replace(/\([0-9]+\)/,"")}else this.name=this.name.replace(/\([0-9]+\)/,"")},n.prototype._updateFacet=function(e){this.bounce=!1,this.active=!this.active},n.prototype._checkParams=function(e){e.detail&&e.detail.filters&&(this.bounce=!0,e.detail.filters.has(this.group)&&e.detail.filters.get(this.group).has(this.key)&&(this.active=!0))},n.prototype._checkChange=function(e){e.detail&&e.detail.facet&&this.group===e.detail.facet.group&&this.key===e.detail.facet.key&&(this.active=e.detail.facet.active)},n.prototype._clearFilters=function(e){this.bounce=!0,this.active=!1},n}(n.default),e("default",a),n.default.create(a)}}});