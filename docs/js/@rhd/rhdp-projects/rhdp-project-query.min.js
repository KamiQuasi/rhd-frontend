System.register([],function(t,e){"use strict";var n,r,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});e&&e.id;return{setters:[],execute:function(){r=function(e){function t(){var t=e.call(this)||this;return t._dcpUrl="https://dcp2.jboss.org/v2/rest/search/suggest_project_name_ngram_more_fields?sort=sys_title&query=",t._term="",t._mockData=!1,t.productData={amq:{upstream:["activemq","fabric8"]},rhpam:{upstream:["drools","guvnor","optaplanner","jbpm"]},brms:{upstream:["optaplanner","drools","guvnor"]},datagrid:{upstream:["infinispan","jgroups","hibernate_subprojects_search"]},datavirt:{upstream:["teiid","teiiddesigner","modeshape"]},devstudio:{upstream:["jbosstools"]},eap:{upstream:["wildfly","jgroups","hibernate","hornetq","jbossclustering","jbossmc","narayana","jbossweb","jbossws","ironjacamar","jgroups","mod_cluster","jbossas_osgi","jbosssso","picketlink","resteasy","weld","wise","xnio"]},fuse:{upstream:["camel","karaf","wildfly-camel","cxf","syndesis","apicurio","hawtio"]},rhel:{upstream:["fedora"]},webserver:{upstream:["tomcat","httpd","mod_cluster"]}},t._filterChange=t._filterChange.bind(t),t}return o(t,e),Object.defineProperty(t.prototype,"mockData",{get:function(){return this._mockData},set:function(t){this._mockData=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"term",{get:function(){return this._term},set:function(t){this._term=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},set:function(t){this._filter=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dcpUrl",{get:function(){return this._dcpUrl},set:function(t){this._dcpUrl=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!0,configurable:!0}),t.prototype.connectedCallback=function(){top.addEventListener("project-filter-change",this._filterChange),this.doSearch()},t.prototype.doSearch=function(){var e=this,t=new URL(this.dcpUrl);if(t.searchParams.set("sort","sys_title"),t.searchParams.set("query",this.term),this.filter)for(var r=this.productData[this.filter].upstream,n=0;n<r.length;n++)t.searchParams.append("project",r[n]);this.mockData||fetch(t.toString()).then(function(t){return t.json()}).then(function(t){e.data=t,e.dispatchEvent(new CustomEvent("data-results-complete",{detail:{data:e.data,term:e.term,filter:e.filter},bubbles:!0}))})},t.prototype._filterChange=function(t){t.detail&&(this.filter=t.detail.filter?t.detail.filter:"",this.term=t.detail.term?t.detail.term:""),this.doSearch()},Object.defineProperty(t,"observedAttributes",{get:function(){return["loading"]},enumerable:!0,configurable:!0}),t.prototype.attributeChangedCallback=function(t,e,r){this[t]=r},t}(HTMLElement),t("default",r),window.customElements.define("rhdp-project-query",r)}}});