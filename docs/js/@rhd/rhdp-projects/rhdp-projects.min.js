System.register(["./rhdp-project-query.js","./rhdp-project-url.js","./rhdp-project-item.js"],function(t,e){"use strict";var r,i,n,s,o,c,u,d=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t};e&&e.id;return{setters:[function(t){i=t},function(t){n=t},function(t){s=t}],execute:function(){o=function(e){function t(){var t=e.call(this)||this;return t._loading=!0,t._dcpUrl="",t._productId="",t.template=function(t,e){return'<ul class="small-block-grid-2 large-block-grid-4 medium-block-grid-3 results"></ul>'},t}return d(t,e),Object.defineProperty(t.prototype,"dcpUrl",{get:function(){return this._dcpUrl},set:function(t){this._dcpUrl!==t&&(this._dcpUrl=t,this.setAttribute("dcp-url",this._dcpUrl))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"productId",{get:function(){return this._productId},set:function(t){this._productId!==t&&(this._productId=t,this.setAttribute("upstream-product-id",this._productId),this.querySelector("rhdp-project-query").filter=this._productId)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loading",{get:function(){return this._loading},set:function(t){0==t?this.querySelector("ul.results").classList.remove("loading"):this.querySelector("ul.results").classList.add("loading"),this._loading=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!0,configurable:!0}),t.prototype.connectedCallback=function(){this.innerHTML=this.template(c||(c=a(["",""],["",""])),this),this.addEventListener("data-results-complete",this._loadDataResult);var t=new i.default;t.dcpUrl=this.dcpUrl,this.productId&&(t.filter=this.productId);var e=new n.default;this.appendChild(t),this.appendChild(e)},t.prototype.removeAllProjects=function(){for(var t=this.querySelector("ul.results");t.firstChild;)t.removeChild(t.firstChild)},t.prototype._loadDataResult=function(t){if(this.removeAllProjects(),this.loading=!0,t.detail&&t.detail.data){var e=void 0;e=t.detail.data.responses?t.detail.data.responses[0].hits.hits:t.detail.data.hits.hits;for(var i=0;i<e.length;i++){var r=new s.default,n=e[i].fields;r.imageUrl="https://static.jboss.org/"+(n.specialIcon||n.sys_project)+"/images/"+(n.specialIcon||n.sys_project)+"_200x150.png",r.downloadsLink=n.downloadsLink,r.projectName=n.sys_project_name,r.sys_url_view=n.sys_url_view,r.descriptions=n.description,r.docsLink=n.docsLink,r.communityLink=n.communityLink,r.knowledgebaseLink=n.knowledgeBaseLink,r.userForumLink=n.userForumLink,r.devForumLink=n.devForumLink,r.mailingListLink=n.mailingListLink,r.chatLink=n.chatLink,r.blogLink=n.blogLink,r.issueTracker=n.issueTrackerLink,r.jiraLink=n.jiraLink,r.srcLink=n.srcLink,r.anonymousLink=n.anonymousLink,r.commiterLink=n.commiterLink,r.fisheyeLink=n.fisheyeLink,r.viewvcLink=n.viewvcLink,r.githubLink=n.githubLink,r.committerGitLink=n.committerGitLink,r.buildLink=n.buildLink,r.hudsonLink=n.hudsonLink;var o=document.createElement("li");o.setAttribute("class","upstream"),o.appendChild(r),this.querySelector("ul.results").appendChild(o)}this.loading=!1}},Object.defineProperty(t,"observedAttributes",{get:function(){return["dcp-url","upstream-product-id"]},enumerable:!0,configurable:!0}),t.prototype.attributeChangedCallback=function(t,e,i){switch(t){case"dcp-url":this.dcpUrl=i;break;case"upstream-product-id":this.productId=i;break;default:this[t]=i}this.innerHTML=this.template(u||(u=a(["",""],["",""])),this)},t}(HTMLElement),window.addEventListener("WebComponentsReady",function(){customElements.define("rhdp-projects",o)})}}});