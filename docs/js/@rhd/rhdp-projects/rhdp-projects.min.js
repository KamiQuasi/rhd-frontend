var __extends=this&&this.__extends||function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__makeTemplateObject=this&&this.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},RHDPProjects=function(e){function t(){var t=e.call(this)||this;return t._loading=!0,t._dcpUrl="",t.template=function(t,e){return'\n\n        <ul class="small-block-grid-2 large-block-grid-4 medium-block-grid-3 results"></ul>\n        \n        '},t}return __extends(t,e),Object.defineProperty(t.prototype,"dcpUrl",{get:function(){return this.getAttribute("dcp-url")?this.getAttribute("dcp-url"):this._dcpUrl},set:function(t){this._dcpUrl!==t&&(this._dcpUrl=t,this.setAttribute("dcp-url",this._dcpUrl))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loading",{get:function(){return this._loading},set:function(t){0==t?this.querySelector("ul.results").classList.remove("loading"):this.querySelector("ul.results").classList.add("loading"),this._loading=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!0,configurable:!0}),t.prototype.connectedCallback=function(){this.innerHTML=this.template(__makeTemplateObject(["",""],["",""]),this),this.addEventListener("data-results-complete",this._loadDataResult);var t=new RHDPProjectQuery;t.dcpUrl=this.dcpUrl,this._getProductId()&&(t.filter=this._getProductId());var e=new RHDPProjectURL;this.appendChild(t),this.appendChild(e)},t.prototype.removeAllProjects=function(){for(var t=this.querySelector("ul.results");t.firstChild;)t.removeChild(t.firstChild)},t.prototype._getProductId=function(){return this.getAttribute("upstream-product-id")},t.prototype._loadDataResult=function(t){if(this.removeAllProjects(),this.loading=!0,t.detail&&t.detail.data){var e=void 0;e=t.detail.data.responses?t.detail.data.responses[0].hits.hits:t.detail.data.hits.hits;for(var i=0;i<e.length;i++){var n=new RHDPProjectItem,r=e[i].fields;n.imageUrl="https://static.jboss.org/"+(r.specialIcon||r.sys_project)+"/images/"+(r.specialIcon||r.sys_project)+"_200x150.png",n.downloadsLink=r.downloadsLink,n.projectName=r.sys_project_name,n.sys_url_view=r.sys_url_view,n.descriptions=r.description,n.docsLink=r.docsLink,n.communityLink=r.communityLink,n.knowledgebaseLink=r.knowledgeBaseLink,n.userForumLink=r.userForumLink,n.devForumLink=r.devForumLink,n.mailingListLink=r.mailingListLink,n.chatLink=r.chatLink,n.blogLink=r.blogLink,n.issueTracker=r.issueTrackerLink,n.jiraLink=r.jiraLink,n.srcLink=r.srcLink,n.anonymousLink=r.anonymousLink,n.commiterLink=r.commiterLink,n.fisheyeLink=r.fisheyeLink,n.viewvcLink=r.viewvcLink,n.githubLink=r.githubLink,n.committerGitLink=r.committerGitLink,n.buildLink=r.buildLink,n.hudsonLink=r.hudsonLink;var o=document.createElement("li");o.setAttribute("class","upstream"),o.appendChild(n),this.querySelector("ul.results").appendChild(o)}this.loading=!1}},Object.defineProperty(t,"observedAttributes",{get:function(){return[""]},enumerable:!0,configurable:!0}),t.prototype.attributeChangedCallback=function(t,e,i){this[t]=i,this.innerHTML=this.template(__makeTemplateObject(["",""],["",""]),this)},t}(HTMLElement);window.addEventListener("WebComponentsReady",function(){customElements.define("rhdp-projects",RHDPProjects)});